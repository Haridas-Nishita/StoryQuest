<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceQuest - Interactive Story Creator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Main Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-brand">
                <h1>üé≠ VoiceQuest</h1>
                <span class="navbar-tagline">Interactive Story Creator</span>
            </div>
            <div class="navbar-actions">
                <button class="btn btn--outline btn--sm" id="settingsBtn">‚öôÔ∏è Settings</button>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <main class="main-content">
        <!-- Home Dashboard -->
        <section id="homePage" class="page active">
            <div class="container">
                <div class="hero-section">
                    <h1 class="hero-title">Create Interactive Stories with AI Voices</h1>
                    <p class="hero-subtitle">Build choose-your-own-adventure stories with realistic character voices powered by Murf AI</p>
                </div>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card" id="createStoryCard">
                        <div class="dashboard-icon">‚úçÔ∏è</div>
                        <h3>Create New Story</h3>
                        <p>Build interactive adventures with branching narratives and character voices</p>
                        <button class="btn btn--primary">Start Creating</button>
                    </div>
                    
                    <div class="dashboard-card" id="playStoriesCard">
                        <div class="dashboard-icon">üéÆ</div>
                        <h3>Play Stories</h3>
                        <p>Experience interactive tales with AI-generated character voices</p>
                        <button class="btn btn--primary">Browse Stories</button>
                    </div>
                    
                    <div class="dashboard-card" id="myStoriesCard">
                        <div class="dashboard-icon">üìö</div>
                        <h3>My Stories</h3>
                        <p>Manage, edit, and share your created stories</p>
                        <button class="btn btn--primary">View Library</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Story Creation Page -->
        <section id="createPage" class="page">
            <div class="container">
                <div class="page-header">
                    <button class="btn btn--outline" id="backToHome">‚Üê Back</button>
                    <h2>Create New Story</h2>
                    <button class="btn btn--primary" id="saveStoryBtn">Save Story</button>
                </div>
                
                <div class="create-layout">
                    <!-- Story Builder Panel -->
                    <div class="story-builder">
                        <div class="story-info-panel">
                            <div class="form-group">
                                <label class="form-label">Story Title</label>
                                <input type="text" class="form-control" id="storyTitle" placeholder="Enter story title">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Genre</label>
                                <select class="form-control" id="storyGenre">
                                    <option value="fantasy">Fantasy</option>
                                    <option value="mystery">Mystery</option>
                                    <option value="sci-fi">Sci-Fi</option>
                                    <option value="horror">Horror</option>
                                    <option value="adventure">Adventure</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Description</label>
                                <textarea class="form-control" id="storyDescription" placeholder="Brief story description"></textarea>
                            </div>
                        </div>
                        
                        <div class="segment-builder">
                            <h3>Story Segments</h3>
                            <div class="segment-list" id="segmentList">
                                <!-- Dynamic segments will be added here -->
                            </div>
                            <button class="btn btn--outline" id="addSegmentBtn">+ Add Segment</button>
                        </div>
                    </div>
                    
                    <!-- Character & Voice Panel -->
                    <div class="voice-panel">
                        <h3>Characters & Voices</h3>
                        <div class="character-list" id="characterList">
                            <!-- Characters will be added here -->
                        </div>
                        <button class="btn btn--outline" id="addCharacterBtn">+ Add Character</button>
                        
                        <div class="voice-preview">
                            <h4>Voice Preview</h4>
                            <div class="voice-controls">
                                <input type="text" class="form-control" id="previewText" placeholder="Enter text to preview voice">
                                <button class="btn btn--secondary" id="previewVoiceBtn">üéµ Preview</button>
                            </div>
                            <audio controls class="audio-player" id="previewAudio" style="display: none;"></audio>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Story Player Page -->
        <section id="playerPage" class="page">
            <div class="container">
                <div class="page-header">
                    <button class="btn btn--outline" id="backToStories">‚Üê Back to Stories</button>
                    <h2 id="currentStoryTitle">Story Title</h2>
                    <div class="player-controls">
                        <button class="btn btn--outline btn--sm" id="showStoryMapBtn">üìç Story Map</button>
                        <button class="btn btn--outline btn--sm" id="restartStoryBtn">üîÑ Restart</button>
                    </div>
                </div>
                
                <div class="player-layout">
                    <div class="story-content">
                        <div class="story-segment" id="currentSegment">
                            <div class="character-info" id="currentCharacter">
                                <span class="character-name"></span>
                                <button class="btn btn--sm btn--outline" id="playAudioBtn">üéµ Play Audio</button>
                            </div>
                            <div class="segment-text" id="segmentText">
                                <!-- Story text will appear here -->
                            </div>
                            <audio controls class="audio-player" id="storyAudio" style="display: none;"></audio>
                        </div>
                        
                        <div class="story-choices" id="storyChoices">
                            <!-- Choice buttons will appear here -->
                        </div>
                    </div>
                    
                    <div class="story-progress">
                        <h4>Story Progress</h4>
                        <div class="progress-path" id="storyPath">
                            <!-- Progress tracking -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Story Library Page -->
        <section id="libraryPage" class="page">
            <div class="container">
                <div class="page-header">
                    <button class="btn btn--outline" id="backToHomeFromLibrary">‚Üê Back</button>
                    <h2>Story Library</h2>
                    <div class="library-actions">
                        <button class="btn btn--outline" id="importStoryBtn">üì• Import</button>
                        <button class="btn btn--primary" id="createNewFromLibrary">+ New Story</button>
                    </div>
                </div>
                
                <div class="library-filters">
                    <select class="form-control" id="genreFilter">
                        <option value="">All Genres</option>
                        <option value="fantasy">Fantasy</option>
                        <option value="mystery">Mystery</option>
                        <option value="sci-fi">Sci-Fi</option>
                        <option value="horror">Horror</option>
                    </select>
                    <input type="text" class="form-control" id="searchStories" placeholder="Search stories...">
                </div>
                
                <div class="story-grid" id="storyGrid">
                    <!-- Story cards will be populated here -->
                </div>
            </div>
        </section>

        <!-- Template Selection Modal -->
        <div class="modal hidden" id="templateModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Choose a Template</h3>
                    <button class="modal-close" id="closeTemplateModal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="template-grid" id="templateGrid">
                        <!-- Templates will be populated here -->
                    </div>
                    <div class="template-actions">
                        <button class="btn btn--outline" id="startFromScratch">Start from Scratch</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Character Creation Modal -->
        <div class="modal hidden" id="characterModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add Character</h3>
                    <button class="modal-close" id="closeCharacterModal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label">Character Name</label>
                        <input type="text" class="form-control" id="characterName" placeholder="Enter character name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" id="characterDescription" placeholder="Character description"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Voice</label>
                        <select class="form-control" id="characterVoice">
                            <!-- Voice options will be populated -->
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn--outline" id="cancelCharacter">Cancel</button>
                        <button class="btn btn--primary" id="saveCharacter">Save Character</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Segment Creation Modal -->
        <div class="modal hidden" id="segmentModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Add Story Segment</h3>
                    <button class="modal-close" id="closeSegmentModal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label">Segment ID</label>
                        <input type="text" class="form-control" id="segmentId" placeholder="unique-segment-id">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Character</label>
                        <select class="form-control" id="segmentCharacter">
                            <!-- Characters will be populated -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Segment Text</label>
                        <textarea class="form-control" id="segmentText" placeholder="Enter the story text for this segment" rows="4"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Choices</label>
                        <div class="choices-container" id="choicesContainer">
                            <!-- Choices will be added here -->
                        </div>
                        <button class="btn btn--outline btn--sm" id="addChoiceBtn">+ Add Choice</button>
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn--outline" id="cancelSegment">Cancel</button>
                        <button class="btn btn--primary" id="saveSegment">Save Segment</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal hidden" id="settingsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Settings</h3>
                    <button class="modal-close" id="closeSettingsModal">√ó</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label">Murf API Key</label>
                        <input type="password" class="form-control" id="apiKeyInput" placeholder="Enter your Murf API key">
                        <small class="form-help">Your API key is stored locally and never shared</small>
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn--outline" id="cancelSettings">Cancel</button>
                        <button class="btn btn--primary" id="saveSettings">Save Settings</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Loading Indicator -->
    <div class="loading-indicator hidden" id="loadingIndicator">
        <div class="loading-spinner"></div>
        <span>Generating audio...</span>
    </div>

    <script src="app.js"></script>
</body>
</html>